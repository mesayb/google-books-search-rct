(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(47)},22:function(e,t,a){},23:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(4),r=a.n(o),c=a(6),s=a(16);var i=function(e){var t=e.children;return l.a.createElement("div",{style:{height:200,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron"},t)};var u=function(e){return console.log("props = ",e),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container border border-primary rounded-lg"},l.a.createElement("p",{className:"pt-3 border-bottom "},l.a.createElement("strong",null," ","true"===e.saved?"Saved Books":"Book Search"," ")),e.result.map(function(t,a){return console.log("id = ",t.gid),l.a.createElement("div",{className:"container border border-primary rounded-lg mb-3"},l.a.createElement("div",{className:"row pt-3 pl-3 pr-3"},l.a.createElement("div",{size:"col-sm-4"},l.a.createElement("h2",null,t.title),l.a.createElement("p",null,t.subtitle),l.a.createElement("p",null,l.a.createElement("strong",null,"Written By :")," ",t.authors.toString())),l.a.createElement("div",{className:"container-fluid  col-sm-2"},l.a.createElement("a",{href:t.link,target:"_blank"},l.a.createElement("button",{style:{float:"right"},className:"btn btn-dark "},"View")),"true"===e.saved?l.a.createElement("button",{style:{float:"right"},className:"btn btn-danger ml-5 mt-2",id:t.gid,onClick:e.deleteBookFromDB},"Delete"):l.a.createElement("button",{style:{float:"right"},className:"btn btn-success ml-5 mt-2",id:t.gid,onClick:e.saveBookToDB},"Save"))),l.a.createElement("div",{className:"row mb-3 ml-3 mr-3"},l.a.createElement("div",{className:"col-sm-3"},l.a.createElement("img",{src:t.image,alt:"Book image",style:{width:200,height:150}})),l.a.createElement("div",{className:"col-sm-8 "},l.a.createElement("p",null,t.description))))})))};a(22);function m(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function d(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function v(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}a(23);function f(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}function g(e){return l.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var E=a(5),b=a.n(E);a(41).config();var h=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GOOGLE_APIKEY,p={searchBook:function(e){return console.log("KEY = "+h),b.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&key=").concat(h))},saveBook:function(e){return b()({method:"POST",url:"/api/books",data:e})},getBooks:function(){return b()({method:"GET",url:"/api/books"})},deleteBook:function(e){return console.log("id = "+e),b()({method:"DELETE",url:"/api/books/".concat(e)})}};var k=function(e){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books"),l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item",key:"1"},l.a.createElement("button",Object.assign({className:"btn-primary",value:"false"},e),"Search")),l.a.createElement("li",{className:"nav-item",key:"2"},l.a.createElement("button",Object.assign({className:"btn-danger",value:"true"},e),"Saved"))))},B=a(3);a(44);var N=function(){var e=Object(n.useState)({title:"",result:[],saved:"false"}),t=Object(s.a)(e,2),a=t[0],o=t[1];l.a.useEffect(function(){p.searchBook(a.title).then(function(e){var t=e.data.items.map(function(e){return{gid:e.id,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.previewLink,title:e.volumeInfo.title}});o(Object(c.a)({},a,{result:t,saved:"false"}))}).catch(function(e){return console.log(e)})},[]);var r=function(e){p.getBooks().then(function(e){var t=e.data.map(function(e){return{gid:e.gid,authors:e.authors,description:e.description,image:e.image,link:e.link,title:e.title,id:e._id}});B.b.success("Here are your saved Books"),o(Object(c.a)({},a,{result:t,saved:"true"}))}).catch(function(e){return console.log(e)})};return l.a.createElement(n.Fragment,null,l.a.createElement(k,{onClick:function(e){"true"===e.target.value?r():o(Object(c.a)({},a,{title:"",result:[],saved:"false"}))}}),l.a.createElement(m,{fluid:!0},l.a.createElement(B.a,null),l.a.createElement(d,null,l.a.createElement(v,{size:"md-12"},l.a.createElement(i,null,l.a.createElement("h1",null,"Google Books Search"),l.a.createElement("h4",null,"Search for and save Books of Interest")))),l.a.createElement(d,null,l.a.createElement(v,{size:"md-12"},l.a.createElement("h5",null,"Book Search"),l.a.createElement("h3",null,a.title),l.a.createElement("p",null,"Book"),l.a.createElement(f,{onChange:function(e){o(Object(c.a)({},a,{title:e.target.value}))},value:a.title,placeholder:"Type something to search Google books library"}),l.a.createElement(g,{onClick:function(e){e.preventDefault(),p.searchBook(a.title).then(function(e){var t=e.data.items.map(function(e){return{gid:e.id,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.previewLink,title:e.volumeInfo.title}});console.log("result1 = ",t),B.b.success("Google Books search result for  - ".concat(a.title)),o(Object(c.a)({},a,{result:t,saved:"false"}))}).catch(function(e){console.log(e),B.b.success("No Data  - ".concat(a.title))})}},"Search"))),"true"===a.saved?l.a.createElement(u,{result:a.result,deleteBookFromDB:function(e){var t=e.target.id,n=a.result.filter(function(e){return e.gid===t}),l=n[0].id;p.deleteBook(l).then(function(e){B.b.success("Deleted - ".concat(n[0].title)),r()}).catch(function(e){console.log(e),B.b.error("FAILED to Delete - ".concat(n[0].title))})},saved:a.saved}):l.a.createElement(u,{result:a.result,saveBookToDB:function(e){console.log("triggered");var t=a.result.filter(function(t){return t.gid===e.target.id});console.log("data = "+JSON.stringify(t[0])),p.saveBook(t[0]).then(function(e){console.log("saved success"),B.b.success("Saved - ".concat(t[0].title))}).catch(function(e){return console.log(e)})},saved:a.saved})))};var y=function(){return l.a.createElement("div",null,l.a.createElement(N,null))};r.a.render(l.a.createElement(y,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.b647eab5.chunk.js.map