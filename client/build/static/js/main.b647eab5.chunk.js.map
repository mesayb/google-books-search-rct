{"version":3,"sources":["components/Jumbotron/index.js","components/BookCard/index.js","components/Grid/index.js","components/Form/index.js","utils/API.js","components/Nav/index.js","pages/Books.js","App.js","index.js"],"names":["Jumbotron","_ref","children","react_default","a","createElement","style","height","clear","paddingTop","textAlign","className","BookCard","props","console","log","react","saved","result","map","res","index","gid","size","title","subtitle","authors","toString","href","link","target","float","id","onClick","deleteBookFromDB","saveBookToDB","src","image","alt","width","description","Container","fluid","concat","Row","_ref2","Col","_ref3","split","join","Input","Object","assign","FormBtn","marginBottom","require","config","APIKEY","process","REACT_APP_GOOGLE_APIKEY","API","searchBook","bookTitle","axios","get","saveBook","data","method","url","getBooks","deleteBook","Nav","key","value","Books","_useState","useState","_useState2","slicedToArray","books","setBooks","React","useEffect","then","items","item","volumeInfo","imageLinks","thumbnail","previewLink","objectSpread","catch","err","getBooksFromDB","event","_id","toast","success","components_Nav","react_toastify","components_Jumbotron","onChange","placeholder","preventDefault","components_BookCard","filter","book","error","JSON","stringify","App","pages_Books","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b647eab5.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction Jumbotron({ children }) {\r\n  return (\r\n    <div\r\n      style={{ height: 200, clear: \"both\", paddingTop: 120, textAlign: \"center\" }}\r\n      className=\"jumbotron\"\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Jumbotron;\r\n","import React, { Fragment } from \"react\";\r\n\r\n\r\nfunction BookCard(props) {\r\n    // { result , saveBookToDB }\r\nconsole.log(\"props = \" , props)\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"container border border-primary rounded-lg\">\r\n                <p className=\"pt-3 border-bottom \"><strong> {props.saved === 'true' ? 'Saved Books' : 'Book Search'} </strong></p>\r\n                {props.result.map((res, index) => {\r\n                    console.log(\"id = \" , res.gid)\r\n                    return (\r\n                        <div className=\"container border border-primary rounded-lg mb-3\">\r\n                            <div className=\"row pt-3 pl-3 pr-3\">\r\n                                <div size=\"col-sm-4\">\r\n                                    <h2>{res.title}</h2>\r\n                                    <p>{res.subtitle}</p>\r\n                                    <p><strong>Written By :</strong> {res.authors.toString()}</p>\r\n                                </div>\r\n\r\n                                <div className=\"container-fluid  col-sm-2\">\r\n                                    <a href={res.link} target=\"_blank\"><button style={{ float: \"right\" }} className=\"btn btn-dark \">\r\n                                        View\r\n    </button></a>\r\n                                    {props.saved === 'true' ?  (<button style={{ float: \"right\" }} className=\"btn btn-danger ml-5 mt-2\" id = {res.gid} onClick={props.deleteBookFromDB} >\r\n                                            Delete\r\n    </button>) : (<button style={{ float: \"right\" }} className=\"btn btn-success ml-5 mt-2\" id={res.gid} onClick={props.saveBookToDB} >\r\n                                        Save\r\n    </button>) }\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <div className=\"row mb-3 ml-3 mr-3\">\r\n                                <div className=\"col-sm-3\">\r\n                                    <img src={res.image} alt=\"Book image\" style={{ width: 200, height: 150 }} />\r\n                                </div>\r\n                                <div className=\"col-sm-8 \">\r\n                                    <p>{res.description}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n\r\n\r\n\r\n                {/* {children} */}\r\n            </div>\r\n        </Fragment>\r\n\r\n    );\r\n}\r\n\r\nexport default BookCard;\r\n","import React from \"react\";\r\n\r\n// Exporting the Container, Row, and Col components from this file\r\n\r\n// This Container component allows us to use a bootstrap container without worrying about class names\r\nexport function Container({ fluid, children }) {\r\n  return <div className={`container${fluid ? \"-fluid\" : \"\"}`}>{children}</div>;\r\n}\r\n\r\n// This Row component lets us use a bootstrap row without having to think about class names\r\nexport function Row({ fluid, children }) {\r\n  return <div className={`row${fluid ? \"-fluid\" : \"\"}`}>{children}</div>;\r\n}\r\n\r\n// This Col component lets us size bootstrap columns with less syntax\r\n// e.g. <Col size=\"md-12\"> instead of <div className=\"col-md-12\">\r\nexport function Col({ size, children }) {\r\n  return (\r\n    <div\r\n      className={size\r\n        .split(\" \")\r\n        .map(size => \"col-\" + size)\r\n        .join(\" \")}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\n// This file exports the Input, TextArea, and FormBtn components\r\n\r\nexport function Input(props) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <input className=\"form-control\" {...props} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function TextArea(props) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <textarea className=\"form-control\" rows=\"20\" {...props} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function FormBtn(props) {\r\n  return (\r\n    <button {...props} style={{ float: \"right\", marginBottom: 10 }} className=\"btn btn-success\">\r\n      {props.children}\r\n    </button>\r\n  );\r\n}\r\n","\r\nimport axios from \"axios\";\r\nrequire('dotenv').config();\r\n const APIKEY = process.env.REACT_APP_GOOGLE_APIKEY;\r\n// const APIKEY ='AIzaSyAcwRTF8ESYkIBfTh2652IxkQ7AAVD_2T0'\r\nexport default {\r\n  //search from Google books API\r\n  searchBook: function(bookTitle) {\r\n    console.log(\"KEY = \"+APIKEY)\r\n    return axios.get(`https://www.googleapis.com/books/v1/volumes?q=${bookTitle}&key=${APIKEY}`);\r\n  },\r\n\r\n  //API to save and retreive data from MongoDB\r\n    saveBook: function(data) {\r\n    return axios({\r\n    method: 'POST',\r\n    url:'/api/books',\r\n    data: data\r\n    });\r\n  },\r\n\r\n  getBooks: function() {\r\n    return axios({\r\n    method: 'GET',\r\n    url:'/api/books',\r\n    });\r\n  },\r\n\r\n  deleteBook: function(id) {\r\n    console.log(\"id = \"+id)\r\n    return axios({\r\n    method: 'DELETE',\r\n    url:`/api/books/${id}`,\r\n    });\r\n  },\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import axios from \"axios\";\r\n\r\n// export default {\r\n//   // Gets all books\r\n//   getBooks: function() {\r\n//     return axios.get(\"/api/books\");\r\n//   },\r\n//   // Gets the book with the given id\r\n//   getBook: function(id) {\r\n//     return axios.get(\"/api/books/\" + id);\r\n//   },\r\n//   // Deletes the book with the given id\r\n//   deleteBook: function(id) {\r\n//     return axios.delete(\"/api/books/\" + id);\r\n//   },\r\n//   // Saves a book to the database\r\n//   saveBook: function(bookData) {\r\n//     return axios.post(\"/api/books\", bookData);\r\n//   }\r\n// };\r\n","import React from \"react\";\r\n\r\nfunction Nav(props) {\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n      <a className=\"navbar-brand\" href=\"/\">\r\n        Google Books\r\n      </a>\r\n\r\n      <ul className=\"navbar-nav\">\r\n        <li className=\"nav-item\" key='1'>\r\n          <button className=\"btn-primary\" value='false' {...props} >Search</button>\r\n        </li>\r\n        <li className=\"nav-item\" key='2'>\r\n          <button className=\"btn-danger\" value='true' {...props}>Saved</button>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport Jumbotron from \"../components/Jumbotron\";\r\nimport BookCard from \"../components/BookCard\";\r\nimport DeleteBtn from \"../components/DeleteBtn\";\r\nimport { Col, Row, Container } from \"../components/Grid\";\r\nimport { List, ListItem } from \"../components/List\";\r\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\r\nimport API from \"../utils/API\";\r\nimport Nav from \"../components/Nav\";\r\nimport axios from 'axios'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Books() {\r\n  // Initialize books as an empty array\r\n  const [books, setBooks] = useState({\r\n    title: '',\r\n    result: [],\r\n    saved: 'false'\r\n  });\r\n\r\n\r\n  React.useEffect(() => {\r\n    API.searchBook(books.title)\r\n      .then(res => {\r\n        const result = res.data.items.map(item => {\r\n          return {\r\n            gid: item.id,\r\n            authors: item.volumeInfo.authors,\r\n            description: item.volumeInfo.description,\r\n            image: item.volumeInfo.imageLinks.thumbnail,\r\n            link: item.volumeInfo.previewLink,\r\n            title: item.volumeInfo.title,\r\n          }\r\n        })\r\n\r\n        setBooks({\r\n          ...books,\r\n          result: result,\r\n          saved: 'false'\r\n        })\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, [])\r\n\r\n\r\n\r\n  const handleInputChange = event => {\r\n    setBooks(\r\n      {\r\n        ...books,\r\n        title: event.target.value\r\n      })\r\n  };\r\n\r\n  const handleFormSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    API.searchBook(books.title)\r\n      .then(res => {\r\n        const result = res.data.items.map(item => {\r\n          return {\r\n            gid: item.id,\r\n            authors: item.volumeInfo.authors,\r\n            description: item.volumeInfo.description,\r\n            image: item.volumeInfo.imageLinks.thumbnail,\r\n            link: item.volumeInfo.previewLink,\r\n            title: item.volumeInfo.title,\r\n          }\r\n        })\r\n        console.log(\"result1 = \", result)\r\n        toast.success(`Google Books search result for  - ${books.title}`);\r\n        setBooks({\r\n          ...books,\r\n          result: result,\r\n          saved: 'false'\r\n\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n        toast.success(`No Data  - ${books.title}`);\r\n      });\r\n  };\r\n\r\n  const handleNavChange = event => {\r\n    const currentNav = event.target.value;\r\n    if(currentNav === 'true'){\r\n      getBooksFromDB();\r\n    } else {\r\n      setBooks(\r\n        {\r\n          ...books,\r\n          title: '',\r\n          result: [],\r\n          saved: 'false'\r\n        })\r\n\r\n    }\r\n\r\n\r\n  };\r\n\r\n  const saveBookToDB = (event) => {\r\n    console.log(\"triggered\")\r\n    const data = books.result.filter(book => book.gid === event.target.id);\r\n    console.log(\"data = \" + JSON.stringify(data[0]))\r\n    API.saveBook(data[0]).then(res => {\r\n      console.log(\"saved success\");\r\n      toast.success(`Saved - ${data[0].title}`);\r\n    })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  const getBooksFromDB = (event) => {\r\n \r\n    API.getBooks().then(res =>  {\r\n      const result = res.data.map(item => {\r\n      return {\r\n        gid: item.gid,\r\n        authors: item.authors,\r\n        description: item.description,\r\n        image: item.image,\r\n        link: item.link,\r\n        title: item.title,\r\n        id:item._id\r\n      }\r\n    })\r\n    toast.success(\"Here are your saved Books\");\r\n      setBooks({\r\n        ...books,\r\n        result: result,\r\n        saved: 'true'\r\n\r\n      })\r\n    })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  const deleteBookFromDB = (event) => {\r\n    const gid = event.target.id;\r\n    const data = books.result.filter(book => book.gid === gid);\r\nconst id = data[0].id\r\n    API.deleteBook(id).then(res => {\r\n      toast.success(`Deleted - ${data[0].title}`);\r\n       getBooksFromDB();\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n     \r\n        toast.error(`FAILED to Delete - ${data[0].title}`);\r\n        \r\n      });\r\n  }\r\n  return (\r\n    <Fragment>\r\n      <Nav onClick={handleNavChange} />\r\n      <Container fluid>\r\n      <ToastContainer />\r\n        <Row>\r\n          <Col size=\"md-12\">\r\n            <Jumbotron>\r\n              <h1>Google Books Search</h1>\r\n              <h4>Search for and save Books of Interest</h4>\r\n            </Jumbotron>\r\n          </Col>\r\n        </Row>\r\n\r\n        <Row>\r\n          <Col size=\"md-12\">\r\n            <h5>Book Search</h5>\r\n            <h3>{books.title}</h3>\r\n            <p>Book</p>\r\n\r\n            <Input onChange={handleInputChange}\r\n              value={books.title} placeholder=\"Type something to search Google books library\" ></Input>\r\n            <FormBtn onClick={handleFormSubmit}>Search</FormBtn>\r\n          </Col>\r\n        </Row>\r\n\r\n        {books.saved ==='true' ? <BookCard result={books.result} deleteBookFromDB={deleteBookFromDB} saved={books.saved} /> : <BookCard result={books.result} saveBookToDB={saveBookToDB} saved={books.saved} />}\r\n\r\n      </Container>\r\n    </Fragment>\r\n\r\n  );\r\n}\r\n\r\nexport default Books;\r\n","import React from \"react\";\r\nimport Books from \"./pages/Books\";\r\n// import Nav from \"./components/Nav\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Books />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}